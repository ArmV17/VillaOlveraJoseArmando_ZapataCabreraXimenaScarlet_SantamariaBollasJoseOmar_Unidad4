
openapi: 3.0.3
info:
  title: Mi Barrio Seguro API
  version: 1.1.0
servers:
  - url: http://localhost:4000
paths:
  /api/auth/register:
    post:
      summary: Registro
  /api/auth/login:
    post:
      summary: Login
  /api/reports:
    get: { summary: Listar reportes }
    post: { summary: Crear reporte }
  /api/reports/{id}:
    get: { summary: Obtener reporte }
    put: { summary: Actualizar reporte }
  /api/reports/{id}/close:
    patch: { summary: Cerrar reporte (ADMIN) }
  /api/utils/weather:
    get: { summary: Clima por lat/lon (Open-Meteo proxy) }
  /api/utils/geocode:
    get: { summary: Geocoding (Nominatim) }
  /api/admin/users:
    get: { summary: Listar usuarios (ADMIN) }
  /api/admin/users/{id}:
    delete: { summary: Eliminar usuario (ADMIN) }
